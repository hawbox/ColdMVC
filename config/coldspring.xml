<beans default-autowire="byName">
	
	<bean id="beanInjector" class="coldmvc.app.util.BeanInjector" />
	
	<bean id="beanFinder" class="coldmvc.app.util.BeanFinder" />
	
	<bean id="beanPostProcessor" class="coldmvc.app.util.BeanPostProcessor" bean-post-processor="true">
		<property name="postProcessors">
			<list>
				<value>modelInjector</value>
			</list>
		</property>
	</bean>
	
	<bean id="collectionParser" class="coldmvc.app.util.CollectionParser" />
	
	<bean id="config" class="coldmvc.app.util.Config" />
	
	<bean id="controllerManager" class="coldmvc.app.util.ControllerManager" />
	
	<bean id="dao" class="coldmvc.DAO">
		<property name="development">
			<value>${development}</value>
		</property>
	</bean>
	
	<bean id="debugManager" class="coldmvc.app.util.DebugManager">
		<property name="configPath">
			<value>/config/debug.ini</value>
		</property>
		<property name="templates">
			<list>
				<value>/coldmvc/app/debug/info.cfm</value>
				<value>/coldmvc/app/debug/mappings.cfm</value>
				<value>/coldmvc/app/debug/plugins.cfm</value>
				<value>/coldmvc/app/debug/config.cfm</value>
				<value>/coldmvc/app/debug/helpers.cfm</value>
				<value>/coldmvc/app/debug/tags.cfm</value>
				<value>/coldmvc/app/debug/viewhelpers.cfm</value>
				<value>/coldmvc/app/debug/queries.cfm</value>
				<value>/coldmvc/app/debug/beans.cfm</value>
				<value>/coldmvc/app/debug/models.cfm</value>
				<value>/coldmvc/app/debug/templates.cfm</value>
				<value>/coldmvc/app/debug/events.cfm</value>
			</list>
		</property>
	</bean>
	
	<bean id="eventDispatcher" class="coldmvc.app.util.EventDispatcher" init-method="setup">
		<property name="development">
			<value>${development}</value>
		</property>
		<property name="observers">
			<map>
				<entry key="preApplication">
					<list>
						<value>metaDataObserver.findObservers</value>
						<value>paramManager.populateParams</value>
					</list>
				</entry>
				<entry key="applicationStart">
					<list>
						<value>helperManager.addHelpers</value>
						<value>viewHelperManager.findViewHelpers</value>
						<value>router.addNamedRouteViewHelpers</value>
						<value>templateManager.loadTemplates</value>
						<value>routeHandler.loadAliases</value>
					</list>
				</entry>
				<entry key="preRequest">
					<list>
						<value>metaDataObserver.findObservers</value>
						<value>modelFactory.clearCache</value>
						<value>helperManager.addHelpers</value>
						<value>tagManager.generateTags</value>
						<value>templateManager.generateTemplates</value>
						<value>paramManager.populateParams</value>
						<value>flashManager.startRequest</value>
						<value>viewHelperManager.clearParams</value>
						<value>filterManager.enableFilters</value>
						<value>routeHandler.handleRequest</value>
					</list>
				</entry>
				<entry key="request">
					<list>
						<value>routeDispatcher.dispatchRoute</value>
					</list>
				</entry>
				<entry key="postRequest">
					<list>
						<value>flashManager.endRequest</value>
					</list>
				</entry>
			</map>
		</property>
	</bean>
	
	<bean id="factoryPostProcessor" class="coldmvc.app.util.FactoryPostProcessor" factory-post-processor="true">
		<property name="postProcessors">
			<list>
				<value>beanFinder</value>
				<value>helperManager</value>
			</list>
		</property>
	</bean>
	
	<bean id="flashManager" class="coldmvc.app.util.FlashManager" />
	
	<bean id="fileSystemFacade" class="coldmvc.app.util.FileSystemFacade" />
	
	<bean id="filterManager" class="coldmvc.app.util.FilterManager">
		<property name="filters">
			<list>
				<value>softDeletes</value>
			</list>
		</property>
	</bean>
	
	<bean id="helperManager" class="coldmvc.app.util.HelperManager" />
	
	<bean id="metaDataFlattener" class="coldmvc.app.util.MetaDataFlattener" />
	
	<bean id="metaDataObserver" class="coldmvc.app.util.MetaDataObserver" />
	
	<bean id="modelFactory" class="coldmvc.app.util.ModelFactory">
		<property name="development">
			<value>${development}</value>
		</property>
	</bean>
	
	<bean id="modelManager" class="coldmvc.app.util.ModelManager" />
	
	<bean id="modelInjector" class="coldmvc.app.util.ModelInjector">
		<property name="suffixes">
			<list>
				<value>Controller</value>
				<value>Service</value>
			</list>
		</property>
	</bean>
	
	<bean id="paramManager" class="coldmvc.app.util.ParamManager" />
	
	<bean id="renderer" class="coldmvc.app.util.Renderer" />
	
	<bean id="routeDispatcher" class="coldmvc.app.util.RouteDispatcher">
		<property name="defaultLayout">
			<value>${layout}</value>
		</property>
	</bean>
	
	<bean id="routeHandler" class="coldmvc.app.util.RouteHandler">
		<property name="defaultController">
			<value>${controller}</value>
		</property>
	</bean>
	
	<bean id="routeSerializer" class="coldmvc.app.util.RouteSerializer" />
	
	<bean id="router" class="coldmvc.app.util.Router" init-method="setup">
		<property name="development">
			<value>${development}</value>
		</property>
	</bean>
	
	<bean id="tagManager" class="coldmvc.app.util.TagManager">
		<property name="development">
			<value>${development}</value>
		</property>
	</bean>
	
	<bean id="templateManager" class="coldmvc.app.util.TemplateManager">
		<property name="development">
			<value>${development}</value>
		</property>
	</bean>
	
	<bean id="viewHelperManager" class="coldmvc.app.util.ViewHelperManager" init-method="setup" />
	
</beans>